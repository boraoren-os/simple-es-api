#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("@aws-cdk/core");
const api_stack_1 = require("../lib/api-stack");
const app = new cdk.App();
const index = require('../handlers/lib/events');
const aggregators = Object.keys(index.eventHandlers);
const props = {
    buildAPIGateway: true,
    aggregators,
    ...require('../apiStack.props.json')
};
new api_stack_1.ApiStack(app, props.stackName || 'simple-es-api-stack', props);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxxQ0FBc0M7QUFDdEMsZ0RBQTRDO0FBRTVDLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQzFCLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBQ2hELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBRXJELE1BQU0sS0FBSyxHQUFHO0lBQ1YsZUFBZSxFQUFFLElBQUk7SUFDckIsV0FBVztJQUNYLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0NBQ3ZDLENBQUM7QUFFRixJQUFJLG9CQUFRLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxTQUFTLElBQUkscUJBQXFCLEVBQUUsS0FBSyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7XG5pbXBvcnQgY2RrID0gcmVxdWlyZSgnQGF3cy1jZGsvY29yZScpO1xuaW1wb3J0IHsgQXBpU3RhY2sgfSBmcm9tICcuLi9saWIvYXBpLXN0YWNrJztcblxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcbmNvbnN0IGluZGV4ID0gcmVxdWlyZSgnLi4vaGFuZGxlcnMvbGliL2V2ZW50cycpO1xuY29uc3QgYWdncmVnYXRvcnMgPSBPYmplY3Qua2V5cyhpbmRleC5ldmVudEhhbmRsZXJzKTtcblxuY29uc3QgcHJvcHMgPSB7XG4gICAgYnVpbGRBUElHYXRld2F5OiB0cnVlLFxuICAgIGFnZ3JlZ2F0b3JzLFxuICAgIC4uLnJlcXVpcmUoJy4uL2FwaVN0YWNrLnByb3BzLmpzb24nKVxufTtcblxubmV3IEFwaVN0YWNrKGFwcCwgcHJvcHMuc3RhY2tOYW1lIHx8ICdzaW1wbGUtZXMtYXBpLXN0YWNrJywgcHJvcHMpO1xuIl19