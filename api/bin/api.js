#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("@aws-cdk/core");
const api_stack_1 = require("../lib/api-stack");
const app = new cdk.App();
const index = require('../handlers/lib/events');
const aggregators = Object.keys(index.eventHandlers);
const props = {
    buildAPIGateway: true,
    aggregators,
    ...require('../apiStack.props.json')
};
new api_stack_1.ApiStack(app, `${props.modelName}-api`, props);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxxQ0FBc0M7QUFDdEMsZ0RBQTRDO0FBRTVDLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQzFCLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBQ2hELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBRXJELE1BQU0sS0FBSyxHQUFHO0lBQ1YsZUFBZSxFQUFFLElBQUk7SUFDckIsV0FBVztJQUNYLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0NBQ3ZDLENBQUM7QUFFRixJQUFJLG9CQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLFNBQVMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0IGNkayA9IHJlcXVpcmUoJ0Bhd3MtY2RrL2NvcmUnKTtcbmltcG9ydCB7IEFwaVN0YWNrIH0gZnJvbSAnLi4vbGliL2FwaS1zdGFjayc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5jb25zdCBpbmRleCA9IHJlcXVpcmUoJy4uL2hhbmRsZXJzL2xpYi9ldmVudHMnKTtcbmNvbnN0IGFnZ3JlZ2F0b3JzID0gT2JqZWN0LmtleXMoaW5kZXguZXZlbnRIYW5kbGVycyk7XG5cbmNvbnN0IHByb3BzID0ge1xuICAgIGJ1aWxkQVBJR2F0ZXdheTogdHJ1ZSxcbiAgICBhZ2dyZWdhdG9ycyxcbiAgICAuLi5yZXF1aXJlKCcuLi9hcGlTdGFjay5wcm9wcy5qc29uJylcbn07XG5cbm5ldyBBcGlTdGFjayhhcHAsIGAke3Byb3BzLm1vZGVsTmFtZX0tYXBpYCwgcHJvcHMpO1xuIl19