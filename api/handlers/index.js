"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const AWS = require('aws-sdk');
module.exports.aggregator = async (event) => {
    console.log({ event: JSON.stringify(event) });
    for (let record of event.Records) {
        if (record.dynamodb) {
            const apiEvent = AWS.DynamoDB.Converter.unmarshall(record.dynamodb.NewImage);
            console.log({ apiEvent });
        }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUUvQixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxLQUFLLEVBQUUsS0FBMEIsRUFBRSxFQUFFO0lBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDOUMsS0FBSyxJQUFJLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQzlCLElBQUksTUFBTSxDQUFDLFFBQVEsRUFBRTtZQUVqQixNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM3RSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztTQUM3QjtLQUNKO0FBQ0wsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVdTID0gcmVxdWlyZSgnYXdzLXNkaycpO1xuaW1wb3J0IHsgRHluYW1vREJTdHJlYW1FdmVudCB9IGZyb20gXCJhd3MtbGFtYmRhXCI7XG5tb2R1bGUuZXhwb3J0cy5hZ2dyZWdhdG9yID0gYXN5bmMgKGV2ZW50OiBEeW5hbW9EQlN0cmVhbUV2ZW50KSA9PiB7XG4gICAgY29uc29sZS5sb2coeyBldmVudDogSlNPTi5zdHJpbmdpZnkoZXZlbnQpIH0pO1xuICAgIGZvciAobGV0IHJlY29yZCBvZiBldmVudC5SZWNvcmRzKSB7XG4gICAgICAgIGlmIChyZWNvcmQuZHluYW1vZGIpIHtcblxuICAgICAgICAgICAgY29uc3QgYXBpRXZlbnQgPSBBV1MuRHluYW1vREIuQ29udmVydGVyLnVubWFyc2hhbGwocmVjb3JkLmR5bmFtb2RiLk5ld0ltYWdlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHsgYXBpRXZlbnQgfSk7XG4gICAgICAgIH1cbiAgICB9XG59Il19